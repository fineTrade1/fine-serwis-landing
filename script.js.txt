// Smooth scrolling do sekcji kontakt
function scrollToContact() {
    document.getElementById('contact').scrollIntoView({
        behavior: 'smooth'
    });
}

// Toggle FAQ
function toggleFaq(element) {
    const faqItem = element.parentElement;
    const answer = faqItem.querySelector('.faq-answer');
    const question = faqItem.querySelector('.faq-question');
    
    // Zamknij wszystkie inne FAQ
    document.querySelectorAll('.faq-item').forEach(item => {
        if (item !== faqItem) {
            item.querySelector('.faq-answer').classList.remove('active');
            item.querySelector('.faq-question').classList.remove('active');
        }
    });
    
    // Toggle aktualny FAQ
    answer.classList.toggle('active');
    question.classList.toggle('active');
}

// Obsługa formularza kontaktowego
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Pobierz dane z formularza
    const formData = new FormData(this);
    const data = {
        name: formData.get('name'),
        phone: formData.get('phone'),
        email: formData.get('email'),
        service: formData.get('service'),
        message: formData.get('message')
    };
    
    // Walidacja podstawowa
    if (!data.name || !data.phone || !data.service) {
        alert('Proszę wypełnić wszystkie wymagane pola.');
        return;
    }
    
    // Walidacja telefonu (podstawowa)
    const phoneRegex = /^[0-9+\-\s()]{9,}$/;
    if (!phoneRegex.test(data.phone)) {
        alert('Proszę podać prawidłowy numer telefonu.');
        return;
    }
    
    // Walidacja email (jeśli podany)
    if (data.email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(data.email)) {
            alert('Proszę podać prawidłowy adres email.');
            return;
        }
    }
    
    // Symulacja wysłania formularza
    const submitButton = this.querySelector('button[type="submit"]');
    const originalText = submitButton.innerHTML;
    
    submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Wysyłanie...';
    submitButton.disabled = true;
    
    // Symulacja opóźnienia wysyłania
    setTimeout(() => {
        alert('Dziękujemy za zgłoszenie! Oddzwonimy w ciągu 24 godzin.');
        this.reset();
        submitButton.innerHTML = originalText;
        submitButton.disabled = false;
        
        // W prawdziwej aplikacji tutaj wysłałbyś dane do serwera
        console.log('Dane formularza:', data);
    }, 2000);
});

// Animacje przy przewijaniu
function animateOnScroll() {
    const elements = document.querySelectorAll('.benefit-card, .service-card, .testimonial, .pricing-card');
    
    elements.forEach(element => {
        const elementTop = element.getBoundingClientRect().top;
        const elementVisible = 150;
        
        if (elementTop < window.innerHeight - elementVisible) {
            element.classList.add('fade-in-up');
        }
    });
}

// Header scroll effect
function handleHeaderScroll() {
    const header = document.querySelector('.header');
    if (window.scrollY > 100) {
        header.style.background = 'rgba(255, 255, 255, 0.98)';
        header.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.1)';
    } else {
        header.style.background = 'rgba(255, 255, 255, 0.95)';
        header.style.boxShadow = 'none';
    }
}

// Event listeners
window.addEventListener('scroll', () => {
    animateOnScroll();
    handleHeaderScroll();
});

window.addEventListener('load', () => {
    animateOnScroll();
});

// Smooth scroll dla wszystkich linków z href="#"
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Obsługa kliknięć w telefon
document.querySelectorAll('a[href^="tel:"]').forEach(link => {
    link.addEventListener('click', function() {
        // Google Analytics tracking (jeśli jest dostępne)
        if (typeof gtag !== 'undefined') {
            gtag('event', 'phone_call', {
                'event_category': 'contact',
                'event_label': 'header_phone'
            });
        }
        
        // Konwersje Facebook Pixel (jeśli jest dostępne)
        if (typeof fbq !== 'undefined') {
            fbq('track', 'Contact');
        }
    });
});

// Counter animation dla statystyk
function animateCounters() {
    const counters = document.querySelectorAll('.stat-number');
    
    counters.forEach(counter => {
        const target = parseInt(counter.textContent.replace('+', ''));
        const increment = target / 50;
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                counter.textContent = target + '+';
                clearInterval(timer);
            } else {
                counter.textContent = Math.ceil(current) + '+';
            }
        }, 50);
    });
}

// Uruchom animację liczników gdy sekcja About jest widoczna
const aboutSection = document.querySelector('.about');
const aboutObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            animateCounters();
            aboutObserver.unobserve(entry.target);
        }
    });
});

if (aboutSection) {
    aboutObserver.observe(aboutSection);
}

// Dodaj efekt paralaksy dla hero section (opcjonalny)
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroImage = document.querySelector('.hero-image');
    if (heroImage) {
        heroImage.style.transform = `translateY(${scrolled * 0.2}px)`;
    }
});

// Console log dla deweloperów
console.log('🔧 Fine Serwis - Landing Page załadowany pomyślnie!');
console.log('📞 Potrzebujesz pomocy z kodem? Skontaktuj się z nami!');